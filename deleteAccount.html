<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Delete Account - Moments.live</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Header Section -->
    <header>
        <nav>
            <div class="logo">
                <h1>Moments.live</h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Delete Account Section -->
    <section class="delete-account">
        <h2>Delete Account</h2>
        <p>Enter your registered mobile number to receive an OTP and confirm account deletion.</p>
        
        <form id="delete-account-form">
            <label for="phone">Phone Number</label>
            <input type="text" id="phone" name="phone" maxlength="10" placeholder="Enter 10-digit phone number" required>
            
            <button type="button" onclick="sendOTP()">Send OTP</button>
            
            <!-- OTP Input Field, initially hidden -->
            <div id="otp-section" style="display: none;">
                <label for="otp">Enter OTP</label>
                <input type="text" id="otp" name="otp" maxlength="6" placeholder="Enter OTP">
                <button type="button" onclick="verifyOTP()">Verify OTP</button>
            </div>
        </form>
        
        <p class="note">* By confirming, all your data will be permanently deleted and cannot be recovered.</p>
    </section>

    <!-- Confirmation Modal -->
    <div id="confirmation-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Account Deleted</h2>
            <p id="confirmation-message"></p>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Moments.live. All rights reserved.</p>
    </footer>

    <!-- Inline JavaScript for Debugging -->
    <script>
        function sendOTP() {
            const phoneInput = document.getElementById('phone');
            const phone = phoneInput.value;

            // Check if the phone number is exactly 10 digits and numeric
            const isValidPhone = /^\d{10}$/.test(phone);
            if (!isValidPhone) {
                alert("Invalid phone number. Please enter a valid 10-digit phone number.");
                return;
            }

            // Show OTP section and display an alert confirming OTP sent
            document.getElementById('otp-section').style.display = 'block';
            alert("OTP has been sent to " + phone + ".");
        }

        function verifyOTP() {
            const otpInput = document.getElementById('otp').value;
            const phoneInput = document.getElementById('phone').value;

            // Check if OTP matches the required "123456"
            if (otpInput === "123456") {
                // Display confirmation modal
                const confirmationModal = document.getElementById('confirmation-modal');
                const confirmationMessage = document.getElementById('confirmation-message');
                
                confirmationMessage.textContent = "Your account associated with " + phoneInput + " has been deleted.";
                confirmationModal.style.display = "flex";
            } else {
                alert("Invalid OTP. Please try again.");
            }
        }

        function closeModal() {
            document.getElementById('confirmation-modal').style.display = "none";
        }
    </script>
</body>
</html>
